<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
Wikimedia Community Health Metrics â€” System architecture
    </title>
    <link rel="icon" type="image/x-icon" href="https://vitalsigns.wmcloud.org/assets/logo.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
    <style>
      /* Light, dashboard-like spacing */
      body {
        background: #ffffff;
        color: #212529;
      }
      .brand-logo {
        height: 34px;
        width: auto;
      }
      .wm-logo {
        height: 30px;
        width: auto;
        opacity: .85;
      }
      .hero {
        background: #f8f9fa;
        border-bottom: 1px solid rgba(0,0,0,.06);
      }
      .diagram-wrap img {
        width: 60%;
        height: auto;
        display: block;
        background: #fff;
      }
      .caption {
        font-size: .9rem;
        color: #6c757d;
      }
    </style>
  </head>
  <body>

  <nav class="navbar navbar-expand-lg bg-white border-bottom">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center gap-2" href="#">
    <img class="brand-logo" alt="Project logo" src="https://vitalsigns.wmcloud.org/assets/logo.png">
    <span class="fw-semibold">Wikipedia Community Health Metrics</span>
    </a>

    <div class="d-flex align-items-center gap-2">
    <img class="wm-logo" alt="Wikimedia logo" src="https://vitalsigns.wmcloud.org/assets/wikimedia-logo.png">
    </div>
  </div>
  </nav>

  <!-- Page header -->
  <header class="hero py-4">
  <div class="container">
    <div class="row align-items-end g-3">
    <div class="col-12 col-lg-8">
      
  <h1 class="h2 mb-1">System architecture</h1>
  <p class="mb-0 text-secondary">How the pipeline computes Community Vital Signs monthly and serves the dashboards.</p>

    </div>
    <div class="col-12 col-lg-4 text-lg-end">
      <a class="btn btn-outline-primary btn-sm" target="_blank" rel="noreferrer"
       href="https://vitalsigns.wmcloud.org">Back to the dashboards</a>
    </div>
    </div>
  </div>
  </header>

  <!-- Content -->
  
  <main class="container my-4">
  <div class="row g-4">
    <div class="col-12">
      <div class="card shadow-sm">
        <div class="card-header bg-white d-flex justify-content-between align-items-center">
          <div class="fw-semibold">Architecture diagram</div>
        </div>

        <div class="card-body">
          <div class="diagram-wrap">
            <img id="archimg" alt="System architecture diagram" src="https://vitalsigns.wmcloud.org/assets/architecture.png">
          </div>
          <div class="caption mt-3">
            The data-processing pipeline integrates data extraction, processing, and visualization into a single workflow, which automates the entire computation process, from retrieving the latest <span>MediaWiki History Dumps</span>, to extracting and aggregating editor-level data, and finally computing the six <span>Vital Signs</span> indicators. In addition, we implemented a monitoring component to observe in real time the status of the computation. 

            <span>System Components.</span> The pipeline is built using <a href="https://airflow.apache.org/">Apache Airflow</a>, an open-source workflow orchestration platform. In Airflow, a pipeline is defined as directed acyclic graphs (DAGs) composed of various tasks. Each task within the DAG is a modular step in the workflow, which is coordinated by Airflow's scheduler according to their predefined dependencies and periodicity. All components of the pipeline are containerized with <a href="https://www.docker.com/">Docker</a> and orchestrated via <a href="https://docs.docker.com/compose/">Docker Compose</a>. Each service in the pipeline runs within isolated but interconnected containers to ensure reproducibility and simplify both their development and deployment. For storage, we use <a href="https://www.postgresql.org/">PostgreSQL</a> databases both as the metadata backend for Airflow and to store the results of metric computations. For monitoring, Airflow exports runtime metrics through <a href="https://github.com/statsd/statsd">StatsD</a> which forwards them to a StatsD-Exporter instance that translates them into the Prometheus export format. <a href="https://prometheus.io/">Prometheus</a> periodically scrapes these metrics, storing them as time series and making them available for visualization and alerting.
            <a href="https://grafana.com/">Grafana</a> acts as the frontend monitoring interface, providing interactive dashboards that display task performance, execution times, and resource utilization in real time. Finally, the <a href="https://dash.plotly.com/">Dash</a> web application provides the presentation layer, served through the <a href="https://gunicorn.org/">Gunicorn</a> WSGI server, allowing users to explore and compare the computed Vital Signs across different language communities.
          </div>
          </div>
        </div>
      </div>
  </div>
  </main>


  <footer>
    <script id="_dash-config" type="application/json">{"url_base_pathname":null,"requests_pathname_prefix":"\u002f","ui":false,"props_check":false,"disable_version_check":false,"show_undo_redo":false,"suppress_callback_exceptions":true,"update_title":"Updating...","children_props":{"dash_core_components":{"Checklist":["options[].label"],"Clipboard":[],"ConfirmDialog":[],"ConfirmDialogProvider":[],"DatePickerRange":[],"DatePickerSingle":[],"Download":[],"Dropdown":["options[].label"],"Geolocation":[],"Graph":[],"Input":[],"Interval":[],"Link":[],"Loading":["custom_spinner"],"Location":[],"Markdown":[],"RadioItems":["options[].label"],"RangeSlider":[],"Slider":[],"Store":[],"Tab":[],"Tabs":[],"Textarea":[],"Tooltip":[],"Upload":[]},"dash_html_components":{"A":[],"Abbr":[],"Acronym":[],"Address":[],"Area":[],"Article":[],"Aside":[],"Audio":[],"B":[],"Base":[],"Basefont":[],"Bdi":[],"Bdo":[],"Big":[],"Blink":[],"Blockquote":[],"Br":[],"Button":[],"Canvas":[],"Caption":[],"Center":[],"Cite":[],"Code":[],"Col":[],"Colgroup":[],"Content":[],"Data":[],"Datalist":[],"Dd":[],"Del":[],"Details":[],"Dfn":[],"Dialog":[],"Div":[],"Dl":[],"Dt":[],"Em":[],"Embed":[],"Fieldset":[],"Figcaption":[],"Figure":[],"Font":[],"Footer":[],"Form":[],"Frame":[],"Frameset":[],"H1":[],"H2":[],"H3":[],"H4":[],"H5":[],"H6":[],"Header":[],"Hgroup":[],"Hr":[],"I":[],"Iframe":[],"Img":[],"Ins":[],"Kbd":[],"Keygen":[],"Label":[],"Legend":[],"Li":[],"Link":[],"Main":[],"MapEl":[],"Mark":[],"Marquee":[],"Meta":[],"Meter":[],"Nav":[],"Nobr":[],"Noscript":[],"ObjectEl":[],"Ol":[],"Optgroup":[],"Option":[],"Output":[],"P":[],"Param":[],"Picture":[],"Plaintext":[],"Pre":[],"Progress":[],"Q":[],"Rb":[],"Rp":[],"Rt":[],"Rtc":[],"Ruby":[],"S":[],"Samp":[],"Script":[],"Section":[],"Select":[],"Shadow":[],"Slot":[],"Small":[],"Source":[],"Spacer":[],"Span":[],"Strike":[],"Strong":[],"Sub":[],"Summary":[],"Sup":[],"Table":[],"Tbody":[],"Td":[],"Template":[],"Textarea":[],"Tfoot":[],"Th":[],"Thead":[],"Time":[],"Title":[],"Tr":[],"Track":[],"U":[],"Ul":[],"Var":[],"Video":[],"Wbr":[],"Xmp":[]},"dash_table":{"DataTable":[]},"dash_bootstrap_components":{"Accordion":[],"AccordionItem":["title"],"Alert":[],"Badge":[],"Breadcrumb":[],"Button":[],"ButtonGroup":[],"Card":[],"CardBody":[],"CardFooter":[],"CardGroup":[],"CardHeader":[],"CardImg":[],"CardImgOverlay":[],"CardLink":[],"Carousel":[],"Collapse":[],"DropdownMenu":["label"],"DropdownMenuItem":[],"Fade":[],"Form":[],"FormFeedback":[],"FormFloating":[],"FormText":[],"Label":[],"Checkbox":["label"],"Checklist":["options[].label"],"Input":[],"InputGroup":[],"InputGroupText":[],"RadioButton":["label"],"RadioItems":["options[].label"],"Select":[],"Switch":["label"],"Textarea":[],"Col":[],"Container":[],"Row":[],"Stack":[],"ListGroup":[],"ListGroupItem":[],"Modal":[],"ModalBody":[],"ModalFooter":[],"ModalHeader":[],"ModalTitle":[],"Nav":[],"NavItem":[],"NavLink":[],"Navbar":[],"NavbarBrand":[],"NavbarSimple":["brand"],"NavbarToggler":[],"Offcanvas":["title"],"Pagination":[],"Placeholder":[],"Popover":[],"PopoverBody":[],"PopoverHeader":[],"Progress":[],"Spinner":[],"Table":[],"Tab":[],"Tabs":[],"Toast":["header"],"Tooltip":[]}},"serve_locally":true,"dash_version":"3.0.4","python_version":"3.12.12 (main, Dec 30 2025, 03:58:12) [GCC 14.2.0]","dash_version_url":"https:\u002f\u002fdash-version.plotly.com:8080\u002fcurrent_version","ddk_version":null,"plotly_version":"6.1.1"}</script>
  </body>
</html>